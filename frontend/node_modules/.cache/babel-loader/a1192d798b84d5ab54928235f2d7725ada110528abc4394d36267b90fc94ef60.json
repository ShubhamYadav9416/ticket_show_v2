{"ast":null,"code":"import axios from 'axios';\nimport refreshAccessToken from '../../../utils/refreshToken';\nimport UserHeader from '@/components/UserHeader.vue';\nexport default {\n  name: 'UserBooking',\n  created() {\n    this.userBookings();\n  },\n  methods: {\n    async userBookings() {\n      try {\n        let access_token = localStorage.getItem('access_token');\n        axios.defaults.headers.common['Authorization'] = 'Bearer ' + access_token;\n        const theatersMoviebookingResponse = await axios.get(`http://127.0.0.1:8081/api/user/bookings`);\n        console.log(theatersMoviebookingResponse.data.user_id);\n      } catch (error) {\n        if (error.response && error.response.status === 401) {\n          await refreshAccessToken();\n          await this.userBookings();\n        } else if (error.response) {\n          console.error(error);\n          alert('An error occurred while fetching the movie data.');\n        }\n      }\n    }\n  },\n  components: {\n    'user-header': UserHeader\n  }\n};","map":{"version":3,"names":["axios","refreshAccessToken","UserHeader","name","created","userBookings","methods","access_token","localStorage","getItem","defaults","headers","common","theatersMoviebookingResponse","get","console","log","data","user_id","error","response","status","alert","components"],"sources":["src/views/user/booked/UserBookig.vue"],"sourcesContent":["<template>\n    <div>\n        <user-header></user-header>\n        <div class=\"container text-center\">\n            <div class=\"row\">\n                <div class=\"col-3\">\n                    Column\n                </div>\n                <div class=\"col\" style=\"padding:50px 20px\">\n                    User id : <br>\n                    User Mail :\n                    <br><br>\n                    <div class=\"card mb-3\" style=\"max-width: 540px;\">\n                        <div class=\"row g-0\">\n                            <div class=\"col-md-4\">\n                                <img src=\"#\" class=\"img-fluid rounded-start\" alt=\"...\">\n                            </div>\n                            <div class=\"col-md-8\">\n                                <div class=\"card-body\">\n                                    <h5 class=\"card-title\">Moviename</h5>\n                                    <p class=\"card-text\">This is a wider card with supporting text below as a natural\n                                        lead-in to additional content. This content is a little bit longer.</p>\n                                    <p class=\"card-text\"><small class=\"text-body-secondary\">Last updated 3 mins ago</small>\n                                    </p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"col-3\">\n                    Column\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nimport refreshAccessToken from '../../../utils/refreshToken'\nimport UserHeader from '@/components/UserHeader.vue';\n\nexport default {\n    name: 'UserBooking',\n    created() {\n        this.userBookings()\n    },\n    methods: {\n        async userBookings() {\n            try {\n                let access_token = localStorage.getItem('access_token')\n\n                axios.defaults.headers.common['Authorization'] = 'Bearer ' + access_token\n                const theatersMoviebookingResponse = await axios.get(`http://127.0.0.1:8081/api/user/bookings`)\n                console.log(theatersMoviebookingResponse.data.user_id)\n            }\n            catch (error) {\n                if (error.response && error.response.status === 401) {\n                    await refreshAccessToken()\n                    await this.userBookings()\n                }\n\n                else if (error.response) {\n                    console.error(error)\n                    alert('An error occurred while fetching the movie data.')\n                }\n            }\n        }\n    },\n    components: {\n        'user-header': UserHeader,\n    },\n}\n\n</script>\n\n\n<style scoped>\n.col {\n    border: 1px solid black;\n}\n</style>"],"mappings":"AAsCA,OAAAA,KAAA;AAEA,OAAAC,kBAAA;AACA,OAAAC,UAAA;AAEA;EACAC,IAAA;EACAC,QAAA;IACA,KAAAC,YAAA;EACA;EACAC,OAAA;IACA,MAAAD,aAAA;MACA;QACA,IAAAE,YAAA,GAAAC,YAAA,CAAAC,OAAA;QAEAT,KAAA,CAAAU,QAAA,CAAAC,OAAA,CAAAC,MAAA,gCAAAL,YAAA;QACA,MAAAM,4BAAA,SAAAb,KAAA,CAAAc,GAAA;QACAC,OAAA,CAAAC,GAAA,CAAAH,4BAAA,CAAAI,IAAA,CAAAC,OAAA;MACA,EACA,OAAAC,KAAA;QACA,IAAAA,KAAA,CAAAC,QAAA,IAAAD,KAAA,CAAAC,QAAA,CAAAC,MAAA;UACA,MAAApB,kBAAA;UACA,WAAAI,YAAA;QACA,OAEA,IAAAc,KAAA,CAAAC,QAAA;UACAL,OAAA,CAAAI,KAAA,CAAAA,KAAA;UACAG,KAAA;QACA;MACA;IACA;EACA;EACAC,UAAA;IACA,eAAArB;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}