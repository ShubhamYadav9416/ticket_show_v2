{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport AdminHeader from '../../../components/AdminHeader.vue';\n// import refreshAccessToken from '../../../utils/refreshToken';\n\nexport default {\n  name: \"AddTheater\",\n  data() {\n    return {\n      movie_name: '',\n      movie_tag: '',\n      movie_language: '',\n      movie_duration: '',\n      movie_description: ''\n    };\n  },\n  components: {\n    'admin-header': AdminHeader\n  },\n  methods: {\n    async addMovie() {\n      if (!this.movie_name || !this.movie_tag || !this.movie_language || !this.movie_duration || !this.movie_description) {\n        alert(\"All fields are required !!\");\n        return;\n      }\n      try {\n        let access_token = localStorage.getItem('access_token');\n        axios.defaults.headers.common['Authorization'] = 'Bearer' + access_token;\n        console.log(\"movie created\");\n        await axios.post(\"http://127.0.0.1:8081/api/movie\", {\n          movie_name: this.movie_name,\n          movie_tag: this.movie_tag,\n          movie_language: this.movie_language,\n          movie_duration: this.movie_duration,\n          movie_description: this.movie_description\n        });\n        console.log(\"movie created\");\n        this.$router.push(\"/admin/movies\");\n      } catch (error) {\n        // if (error.response && error.response.status === 401) {\n        //     await refreshAccessToken();\n        //     await this.addMovie()\n        // }\n\n        // else if (error.response && error.response.status === 400 || error.response.status === 422) {\n        //     this.errors = error.response.data.errors;\n        //     alert('An error occurred while updating the account.')\n        // }\n        console.log(error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","AdminHeader","name","data","movie_name","movie_tag","movie_language","movie_duration","movie_description","components","methods","addMovie","alert","access_token","localStorage","getItem","defaults","headers","common","console","log","post","$router","push","error"],"sources":["src/views/admin/movies/AddMovie.vue"],"sourcesContent":["<template>\n    <div id=\"outer_div\">\n        <admin-header></admin-header>\n        <div class=\"container text-center\">\n            <div class=\"row\">\n                <div class=\"col-4\">\n\n                </div>\n                <div class=\"col\">\n                    <br><br>\n                    <p>To add new Movie<br> Fill this form</p>\n                    <form>\n                        <div class=\"mb-3\">\n                            <input type=\"text\" class=\"form-control\" v-model=\"movie_name\" required placeholder=\"Movie Name\">\n                        </div>\n                        <div class=\"mb-3\">\n                            <input type=\"text\" class=\"form-control\" v-model=\"movie_tag\" required placeholder=\"Movie Tag\">\n                        </div>\n                        <div class=\"mb-3\">\n                            <input type=\"text\" class=\"form-control\" v-model=\"movie_language\" required\n                                placeholder=\"Movie Language\">\n                        </div>\n                        <div class=\"mb-3\">\n                            <input type=\"text\" class=\"form-control\" v-model=\"movie_duration\" required\n                                placeholder=\"Movie Duration\">\n                        </div>\n                        <div class=\"mb-3\">\n                            <input type=\"text\" class=\"form-control\" v-model=\"movie_description\" required\n                                placeholder=\"Movie Description\">\n                        </div>\n                        <div class=\"input-group mb-3\">\n                            <input type=\"file\" class=\"form-control\" id=\"inputGroupFile01\">\n                        </div>\n                        <button type=\"button\" class=\"btn btn-primary\" @click=\"addMovie()\">Add Movie</button>\n                    </form>\n                </div>\n                <div class=\"col-4\">\n\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n\n\n<script>\n\nimport axios from 'axios';\nimport AdminHeader from '../../../components/AdminHeader.vue'\n// import refreshAccessToken from '../../../utils/refreshToken';\n\n\nexport default {\n    name: \"AddTheater\",\n    data() {\n        return {\n            movie_name: '',\n            movie_tag: '',\n            movie_language: '',\n            movie_duration: '',\n            movie_description: '',\n        }\n    },\n\n    components: {\n        'admin-header': AdminHeader\n    },\n    methods: {\n        async addMovie() {\n            if (!this.movie_name || !this.movie_tag || !this.movie_language || !this.movie_duration || !this.movie_description) {\n                alert(\"All fields are required !!\");\n                return;\n            }\n            try {\n                let access_token = localStorage.getItem('access_token')\n\n                axios.defaults.headers.common['Authorization'] = 'Bearer' + access_token\n                console.log(\"movie created\")\n                await axios.post(\"http://127.0.0.1:8081/api/movie\", {\n                    movie_name: this.movie_name,\n                    movie_tag: this.movie_tag,\n                    movie_language: this.movie_language,\n                    movie_duration: this.movie_duration,\n                    movie_description: this.movie_description\n                })\n                console.log(\"movie created\")\n                this.$router.push(\"/admin/movies\");\n            }\n            catch (error) {\n                // if (error.response && error.response.status === 401) {\n                //     await refreshAccessToken();\n                //     await this.addMovie()\n                // }\n\n                // else if (error.response && error.response.status === 400 || error.response.status === 422) {\n                //     this.errors = error.response.data.errors;\n                //     alert('An error occurred while updating the account.')\n                // }\n                console.log(error)\n            }\n\n        }\n    }\n}\n</script>\n\n\n<style scoped></style>"],"mappings":";AAgDA,OAAAA,KAAA;AACA,OAAAC,WAAA;AACA;;AAGA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,UAAA;MACAC,SAAA;MACAC,cAAA;MACAC,cAAA;MACAC,iBAAA;IACA;EACA;EAEAC,UAAA;IACA,gBAAAR;EACA;EACAS,OAAA;IACA,MAAAC,SAAA;MACA,UAAAP,UAAA,UAAAC,SAAA,UAAAC,cAAA,UAAAC,cAAA,UAAAC,iBAAA;QACAI,KAAA;QACA;MACA;MACA;QACA,IAAAC,YAAA,GAAAC,YAAA,CAAAC,OAAA;QAEAf,KAAA,CAAAgB,QAAA,CAAAC,OAAA,CAAAC,MAAA,+BAAAL,YAAA;QACAM,OAAA,CAAAC,GAAA;QACA,MAAApB,KAAA,CAAAqB,IAAA;UACAjB,UAAA,OAAAA,UAAA;UACAC,SAAA,OAAAA,SAAA;UACAC,cAAA,OAAAA,cAAA;UACAC,cAAA,OAAAA,cAAA;UACAC,iBAAA,OAAAA;QACA;QACAW,OAAA,CAAAC,GAAA;QACA,KAAAE,OAAA,CAAAC,IAAA;MACA,EACA,OAAAC,KAAA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACAL,OAAA,CAAAC,GAAA,CAAAI,KAAA;MACA;IAEA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}