{"ast":null,"code":"import axios from 'axios';\nimport refreshAccessToken from '@/utils/refreshToken';\nexport default {\n  name: 'userSearch',\n  data() {\n    return {\n      search_input: \"\",\n      str: \"hello\",\n      movie_filters: [],\n      theater_filters: [],\n      place_filters: []\n    };\n  },\n  created() {\n    this.allFilters();\n  },\n  methods: {\n    async allFilters() {\n      try {\n        let access_token = localStorage.getItem('access_token');\n        axios.defaults.headers.common['Authorization'] = 'Bearer ' + access_token;\n        const allFiltersResponse = await axios.get(`http://127.0.0.1:8081/api/search/filters`);\n        console.log(allFiltersResponse);\n        this.movie_filters = allFiltersResponse.data.movie;\n        this.theater_filters = allFiltersResponse.data.theater;\n        this.place_filters = allFiltersResponse.data.place;\n        console.log(this.movie_filters);\n        console.log(this.theater_filters);\n        console.log(this.place_filters);\n      } catch (error) {\n        if (error.response && error.response.status === 401) {\n          await refreshAccessToken();\n          await this.theateruserRatings();\n        } else if (error.response) {\n          console.error(error);\n          alert('An error occurred while fetching the theater user rating data.');\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","refreshAccessToken","name","data","search_input","str","movie_filters","theater_filters","place_filters","created","allFilters","methods","access_token","localStorage","getItem","defaults","headers","common","allFiltersResponse","get","console","log","movie","theater","place","error","response","status","theateruserRatings","alert"],"sources":["src/views/user/search/Search.vue"],"sourcesContent":["<template>\n    <div class=\"container text-center\">\n        <div class=\"row\">\n            <div class=\"col-2\">\n                <router-link to=\"/home\">Return to Home Page</router-link>\n            </div>\n            <div class=\"col\">\n                {{ search_input }}\n                <form class=\"d-flex\" role=\"search\">\n                    <input class=\"form-control me-2\" type=\"search\" placeholder=\"Search for Movie, Theater, place...\" v-model=search_input\n                        aria-label=\"Search\">\n                </form>\n                <h5 style=\"margin: 10px;\" v-show=\"search_input\">Results</h5>\n                <div>\n                    <div class=\"list-group\" v-show=\"search_input\">\n                        <a href=\"#\" class=\"list-group-item list-group-item-action\" style=\"padding-bottom: 0px;\" v-for=\"movie_filter in movie_filters\" :key=\"movie_filter.id\" v-show=\"movie_filter.movie_name.includes(search_input)\"><p align=\"left\" style=\"position: fixed; margin-left: 100px;\"><i class=\"bi bi-film\"></i></p>{{ movie_filter.movie_name }}</a>\n                        <a href=\"#\" class=\"list-group-item list-group-item-action\" style=\"padding-bottom: 0px;\" v-for=\"theater_filter in theater_filters\" :key=\"theater_filter.id\" v-show=\"theater_filter.theater_name.includes(search_input)\"><p align=\"left\" style=\"position: fixed; margin-left: 100px;\"><i class=\"bi bi-building\"></i></p>{{ theater_filter.theater_name }}</a>\n                        <a href=\"#\" class=\"list-group-item list-group-item-action\" style=\"padding-bottom: 0px;\" v-for=\"place_filter in place_filters\" :key=\"place_filter.id\" v-show=\"place_filter.theater_place.includes(search_input)\"><p align=\"left\" style=\"position: fixed; margin-left: 100px;\"><i class=\"bi bi-geo-alt\"></i></p>{{  place_filter.theater_place }}</a>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col-2\">\n\n            </div>\n        </div>\n    </div>\n</template>\n\n\n<script>\n\nimport axios from 'axios'\nimport refreshAccessToken from '@/utils/refreshToken'\n\nexport default {\n    name: 'userSearch',\n    data () {\n        return {\n            search_input : \"\",\n            str : \"hello\",\n            movie_filters: [],\n            theater_filters : [],\n            place_filters: []\n        }\n    },\n    created() {\n        this.allFilters()\n    },\n    methods: {\n        async allFilters() {\n            try {\n                let access_token = localStorage.getItem('access_token')\n\n                axios.defaults.headers.common['Authorization'] = 'Bearer ' + access_token\n                const allFiltersResponse = await axios.get(`http://127.0.0.1:8081/api/search/filters`)\n                console.log(allFiltersResponse)\n                this.movie_filters = allFiltersResponse.data.movie\n                this.theater_filters = allFiltersResponse.data.theater\n                this.place_filters = allFiltersResponse.data.place\n                console.log(this.movie_filters)\n                console.log(this.theater_filters)\n                console.log(this.place_filters)\n            }\n            catch (error) {\n                if (error.response && error.response.status === 401) {\n                    await refreshAccessToken()\n                    await this.theateruserRatings()\n                }\n\n                else if (error.response) {\n                    console.error(error)\n                    alert('An error occurred while fetching the theater user rating data.')\n                }\n            }\n        }\n    }\n}\n\n\n</script>\n\n\n<style scoped>\n.col {\n    border: 1px solid black;\n    margin-top: 50px;\n    padding: 20px;\n}\n</style>"],"mappings":"AA+BA,OAAAA,KAAA;AACA,OAAAC,kBAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,YAAA;MACAC,GAAA;MACAC,aAAA;MACAC,eAAA;MACAC,aAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,UAAA;EACA;EACAC,OAAA;IACA,MAAAD,WAAA;MACA;QACA,IAAAE,YAAA,GAAAC,YAAA,CAAAC,OAAA;QAEAd,KAAA,CAAAe,QAAA,CAAAC,OAAA,CAAAC,MAAA,gCAAAL,YAAA;QACA,MAAAM,kBAAA,SAAAlB,KAAA,CAAAmB,GAAA;QACAC,OAAA,CAAAC,GAAA,CAAAH,kBAAA;QACA,KAAAZ,aAAA,GAAAY,kBAAA,CAAAf,IAAA,CAAAmB,KAAA;QACA,KAAAf,eAAA,GAAAW,kBAAA,CAAAf,IAAA,CAAAoB,OAAA;QACA,KAAAf,aAAA,GAAAU,kBAAA,CAAAf,IAAA,CAAAqB,KAAA;QACAJ,OAAA,CAAAC,GAAA,MAAAf,aAAA;QACAc,OAAA,CAAAC,GAAA,MAAAd,eAAA;QACAa,OAAA,CAAAC,GAAA,MAAAb,aAAA;MACA,EACA,OAAAiB,KAAA;QACA,IAAAA,KAAA,CAAAC,QAAA,IAAAD,KAAA,CAAAC,QAAA,CAAAC,MAAA;UACA,MAAA1B,kBAAA;UACA,WAAA2B,kBAAA;QACA,OAEA,IAAAH,KAAA,CAAAC,QAAA;UACAN,OAAA,CAAAK,KAAA,CAAAA,KAAA;UACAI,KAAA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}