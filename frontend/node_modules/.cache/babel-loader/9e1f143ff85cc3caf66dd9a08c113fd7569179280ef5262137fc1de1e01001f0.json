{"ast":null,"code":"import axios from \"axios\";\nasync function refreshAccessToken() {\n  // Get the refresh token from local storage\n  let refresh_token = localStorage.getItem(\"refresh_token\");\n\n  // Set the Authorization header of the axios instance\n  axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + refresh_token;\n  try {\n    // Send a POST request to the server to refresh the access token\n    let response = await axios.post(\"http://127.0.0.1:8081/api/token/refresh\");\n\n    // Get the new access token from the response\n    let new_access_token = response.data.access_token;\n\n    // Store the new access token in local storage\n    localStorage.setItem(\"access_token\", new_access_token);\n\n    // Update the Authorization header of the axios instance\n    axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + new_access_token;\n  } catch (error) {\n    // Handle errors (e.g. invalid refresh token)\n    console.error(error);\n  }\n}\nexport default refreshAccessToken;","map":{"version":3,"names":["axios","refreshAccessToken","refresh_token","localStorage","getItem","defaults","headers","common","response","post","new_access_token","data","access_token","setItem","error","console"],"sources":["/home/shubham/frontend/src/utils/refreshToken.js"],"sourcesContent":["import axios from \"axios\";\n\nasync function refreshAccessToken() {\n    // Get the refresh token from local storage\n    let refresh_token = localStorage.getItem(\"refresh_token\");\n\n    // Set the Authorization header of the axios instance\n    axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + refresh_token;\n\n    try {\n        // Send a POST request to the server to refresh the access token\n        let response = await axios.post(\"http://127.0.0.1:8081/api/token/refresh\");\n\n        // Get the new access token from the response\n        let new_access_token = response.data.access_token;\n\n        // Store the new access token in local storage\n        localStorage.setItem(\"access_token\", new_access_token);\n\n        // Update the Authorization header of the axios instance\n        axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + new_access_token;\n        \n    } catch (error) {\n        // Handle errors (e.g. invalid refresh token)\n        console.error(error);\n    }\n}\n\nexport default refreshAccessToken;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,eAAeC,kBAAkBA,CAAA,EAAG;EAChC;EACA,IAAIC,aAAa,GAAGC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC;;EAEzD;EACAJ,KAAK,CAACK,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,GAAG,SAAS,GAAGL,aAAa;EAE1E,IAAI;IACA;IACA,IAAIM,QAAQ,GAAG,MAAMR,KAAK,CAACS,IAAI,CAAC,yCAAyC,CAAC;;IAE1E;IACA,IAAIC,gBAAgB,GAAGF,QAAQ,CAACG,IAAI,CAACC,YAAY;;IAEjD;IACAT,YAAY,CAACU,OAAO,CAAC,cAAc,EAAEH,gBAAgB,CAAC;;IAEtD;IACAV,KAAK,CAACK,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,GAAG,SAAS,GAAGG,gBAAgB;EAEjF,CAAC,CAAC,OAAOI,KAAK,EAAE;IACZ;IACAC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;EACxB;AACJ;AAEA,eAAeb,kBAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}